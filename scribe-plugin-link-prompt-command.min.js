define("scribe-plugin-link-prompt-command",[],function(){return function(){return function(e){var n=new e.api.Command("createLink");n.nodeName="A",n.execute=function(){var n=new e.api.Selection,t=n.range,r=n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),o=r?r.href:"http://",i=window.prompt("Enter a link.",o);if(r&&(t.selectNode(r),n.selection.removeAllRanges(),n.selection.addRange(t)),i){if(!/^mailto\:/.test(i)&&/@/.test(i)){var a=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");a&&(i="mailto:"+i)}else if(!/^https?\:\/\//.test(i)){var s=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");s&&(i="http://"+i)}e.api.SimpleCommand.prototype.execute.call(this,i)}},n.queryState=function(){var n=new e.api.Selection;return!!n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},e.commands.linkPrompt=n}}});//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map